<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“ 21-Ğ´Ğ½ĞµĞ²Ğ½Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° | CardGift Academy</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“</text></svg>">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --primary-light: #818cf8;
            --success: #10b981;
            --success-light: #d1fae5;
            --warning: #f59e0b;
            --warning-light: #fef3c7;
            --danger: #ef4444;
            --gold: #FFD700;
            --bg: #f1f5f9;
            --card: #ffffff;
            --text: #1e293b;
            --text-secondary: #64748b;
            --border: #e2e8f0;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HEADER
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 40px 20px;
            text-align: center;
            position: relative;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            opacity: 0.5;
        }
        
        .header-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .header h1 {
            font-size: 36px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .header p {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 20px;
        }
        
        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            opacity: 0.8;
            transition: opacity 0.2s;
        }
        
        .back-btn:hover { opacity: 1; }
        
        /* Stats */
        .header-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
        }
        
        .header-stat {
            text-align: center;
        }
        
        .header-stat-value {
            font-size: 32px;
            font-weight: 700;
        }
        
        .header-stat-label {
            font-size: 13px;
            opacity: 0.8;
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MAIN CONTENT
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MARKETING SECTION (Ğ”ĞµĞ½ÑŒ 0)
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .marketing-section {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid var(--gold);
        }
        
        .marketing-title {
            font-size: 24px;
            color: #92400e;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .marketing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .marketing-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .marketing-card h4 {
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .income-source {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
        }
        
        .income-source:last-child { border-bottom: none; }
        
        .income-percent {
            font-size: 20px;
            font-weight: 700;
            color: var(--success);
        }
        
        .guarantee-box {
            background: linear-gradient(135deg, var(--success), #059669);
            color: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        
        .guarantee-box h4 {
            font-size: 20px;
            margin-bottom: 10px;
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           PROGRESS OVERVIEW
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .progress-section {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }
        
        .progress-title {
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .progress-percent {
            font-size: 24px;
            font-weight: 700;
            color: var(--success);
        }
        
        .progress-bar {
            height: 12px;
            background: var(--border);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success), #34d399);
            border-radius: 6px;
            transition: width 0.5s ease;
        }
        
        .weeks-tabs {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .week-tab {
            flex: 1;
            min-width: 150px;
            padding: 15px;
            background: var(--bg);
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        .week-tab:hover { background: #e2e8f0; }
        .week-tab.active { 
            background: var(--primary-light); 
            color: white;
            border-color: var(--primary);
        }
        
        .week-tab h4 { font-size: 14px; margin-bottom: 4px; }
        .week-tab p { font-size: 12px; opacity: 0.7; }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           WEEK CONTENT
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .week-content {
            display: none;
        }
        
        .week-content.active { display: block; }
        
        .week-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .week-header h2 {
            font-size: 24px;
            margin-bottom: 8px;
        }
        
        .week-header p { opacity: 0.9; }
        
        .week-goals {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .week-goal {
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           DAYS GRID
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .days-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }
        
        .day-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .day-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .day-card.locked {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .day-card.completed {
            border: 2px solid var(--success);
        }
        
        .day-card.current {
            border: 2px solid var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.2);
        }
        
        .day-card-header {
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }
        
        .day-number {
            width: 50px;
            height: 50px;
            background: var(--primary);
            color: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 700;
        }
        
        .day-card.completed .day-number {
            background: var(--success);
        }
        
        .day-status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .day-status.current {
            background: var(--warning-light);
            color: #92400e;
        }
        
        .day-status.completed {
            background: var(--success-light);
            color: #065f46;
        }
        
        .day-status.locked {
            background: var(--border);
            color: var(--text-secondary);
        }
        
        .day-card-body {
            padding: 0 20px 20px;
        }
        
        .day-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .day-description {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .day-tasks-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .task-tag {
            background: var(--bg);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        .day-footer {
            padding: 15px 20px;
            background: var(--bg);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .day-meta {
            display: flex;
            gap: 15px;
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .day-points {
            font-weight: 600;
            color: var(--gold);
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           KEY DAY HIGHLIGHT
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .day-card.key-day {
            border: 2px solid var(--gold);
            background: linear-gradient(135deg, #fffbeb, white);
        }
        
        .day-card.key-day .day-number {
            background: linear-gradient(135deg, var(--gold), #f59e0b);
        }
        
        .upgrade-badge {
            background: linear-gradient(135deg, var(--gold), #f59e0b);
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           DAY MODAL
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal-overlay.active { display: flex; }
        
        .modal {
            background: white;
            border-radius: 20px;
            max-width: 700px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            padding: 24px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border-radius: 20px 20px 0 0;
            position: relative;
        }
        
        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
        }
        
        .modal-body { padding: 24px; }
        
        .modal-section {
            margin-bottom: 24px;
        }
        
        .modal-section h4 {
            font-size: 16px;
            color: var(--primary);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .modal-section p {
            color: var(--text-secondary);
            line-height: 1.7;
        }
        
        /* Tasks in modal */
        .task-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .task-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 15px;
            background: var(--bg);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .task-item:hover { background: #e2e8f0; }
        
        .task-item.completed {
            background: var(--success-light);
        }
        
        .task-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid var(--border);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.2s;
        }
        
        .task-item.completed .task-checkbox {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }
        
        .task-content { flex: 1; }
        
        .task-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .task-desc {
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .task-points {
            font-weight: 600;
            color: var(--gold);
            font-size: 14px;
        }
        
        /* Income highlight */
        .income-highlight {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            margin-top: 15px;
        }
        
        .income-highlight .amount {
            font-size: 28px;
            font-weight: 700;
            color: #065f46;
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SIDEBAR (Leaderboard)
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .layout {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 30px;
        }
        
        @media (max-width: 1024px) {
            .layout {
                grid-template-columns: 1fr;
            }
        }
        
        .sidebar {
            position: sticky;
            top: 20px;
            height: fit-content;
        }
        
        .leaderboard {
            background: white;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .leaderboard h3 {
            font-size: 16px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .leader-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 8px;
        }
        
        .leader-item:nth-child(1) { background: linear-gradient(135deg, #fef3c7, #fde68a); }
        .leader-item:nth-child(2) { background: #f1f5f9; }
        .leader-item:nth-child(3) { background: #fef2f2; }
        
        .leader-rank {
            width: 28px;
            height: 28px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
        }
        
        .leader-item:nth-child(1) .leader-rank { background: var(--gold); color: #92400e; }
        
        .leader-info { flex: 1; }
        .leader-name { font-weight: 600; font-size: 14px; }
        .leader-stats { font-size: 12px; color: var(--text-secondary); }
        .leader-points { font-weight: 700; color: var(--primary); }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESPONSIVE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @media (max-width: 768px) {
            .header h1 { font-size: 24px; }
            .header-stats { gap: 20px; }
            .header-stat-value { font-size: 24px; }
            .days-grid { grid-template-columns: 1fr; }
            .marketing-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <header class="header">
        <a href="dashboard.html" class="back-btn">â† ĞĞ°Ğ·Ğ°Ğ´</a>
        <div class="header-content">
            <h1>ğŸ“ 21-Ğ´Ğ½ĞµĞ²Ğ½Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°</h1>
            <p>Ğ’Ğ°Ñˆ Ğ¿ÑƒÑ‚ÑŒ Ğ¾Ñ‚ $22 Ğ´Ğ¾ $1000+ Ğ·Ğ° 21 Ğ´ĞµĞ½ÑŒ</p>
            
            <div class="header-stats">
                <div class="header-stat">
                    <div class="header-stat-value" id="currentDay">1</div>
                    <div class="header-stat-label">Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ğ´ĞµĞ½ÑŒ</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-value" id="totalPoints">0</div>
                    <div class="header-stat-label">ĞÑ‡ĞºĞ¾Ğ²</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-value" id="streakDays">0</div>
                    <div class="header-stat-label">Ğ”Ğ½ĞµĞ¹ Ğ¿Ğ¾Ğ´Ñ€ÑĞ´</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-value" id="achievements">0/14</div>
                    <div class="header-stat-label">Ğ”Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ğ¹</div>
                </div>
            </div>
        </div>
    </header>
    
    <!-- MAIN -->
    <main class="main">
        <!-- MARKETING SECTION -->
        <section class="marketing-section" id="marketingSection">
            <h3 class="marketing-title">ğŸ’° ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ ĞšĞ»ÑƒĞ± Ğ¿Ğ»Ğ°Ñ‚Ğ¸Ñ‚ Ğ—Ğ Ğ¢Ğ’ĞĞ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ?</h3>
            
            <div class="marketing-grid">
                <div class="marketing-card">
                    <h4>ğŸ“Š ĞšĞ°Ğº Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ÑÑÑ‚ÑÑ Ğ´ĞµĞ½ÑŒĞ³Ğ¸?</h4>
                    <p style="margin-bottom: 15px; color: var(--text-secondary);">
                        ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ½Ğ¾Ğµ Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¸ÑˆĞµÑ‚ÑÑ ĞĞ”Ğ˜Ğ Ñ€Ğ°Ğ·, Ğ½Ğ¾ ĞºĞ»Ğ¾Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ‘Ğ•Ğ¡ĞšĞĞĞ•Ğ§ĞĞ. 
                        ĞŸĞ¾ÑÑ‚Ğ¾Ğ¼Ñƒ 100% ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¸Ğ´Ñ‘Ñ‚ Ğ½Ğ° ĞœĞĞ ĞšĞ•Ğ¢Ğ˜ĞĞ“ â€” Ñ‚Ğ¾ ĞµÑÑ‚ÑŒ Ğ¢Ğ•Ğ‘Ğ•!
                    </p>
                    
                    <div class="income-source">
                        <span>ĞĞ²Ñ‚Ğ¾Ñ€ÑĞºĞ¸Ğ¹ Ğ³Ğ¾Ğ½Ğ¾Ñ€Ğ°Ñ€</span>
                        <span class="income-percent">10%</span>
                    </div>
                    <div class="income-source">
                        <span>ĞŸĞ°Ñ€Ñ‚Ğ½Ñ‘Ñ€ÑĞºĞ¾Ğµ (2% Ã— 12 ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ¹)</span>
                        <span class="income-percent">24%</span>
                    </div>
                    <div class="income-source">
                        <span>ĞšĞ»ÑƒĞ±Ğ½Ñ‹Ğ¹ Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³</span>
                        <span class="income-percent">48%</span>
                    </div>
                    <div class="income-source" style="background: var(--success-light); margin: 10px -20px -20px; padding: 15px 20px; border-radius: 0 0 12px 12px;">
                        <span style="font-weight: 600;">Ğ˜Ğ¢ĞĞ“Ğ Ñ 4 ÑƒÑ€Ğ¾Ğ²Ğ½Ñ:</span>
                        <span class="income-percent" style="font-size: 24px;">66%</span>
                    </div>
                </div>
                
                <div class="marketing-card">
                    <h4>ğŸ Ğ§Ñ‚Ğ¾ Ñ‚Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑˆÑŒ Ğ·Ğ° $22?</h4>
                    <div style="display: grid; gap: 8px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>ğŸ“ ĞĞºĞ°Ğ´ĞµĞ¼Ğ¸Ñ CardGift</span>
                            <span style="color: var(--success); font-weight: 600;">$500</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>ğŸ¨ AI Studio</span>
                            <span style="color: var(--success); font-weight: 600;">$200</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>ğŸ Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¾Ğº</span>
                            <span style="color: var(--success); font-weight: 600;">$150</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>ğŸ“Š Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²</span>
                            <span style="color: var(--success); font-weight: 600;">$100</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>ğŸ“‹ CRM + Ğ Ğ°ÑÑÑ‹Ğ»ĞºĞ¸ + Ğ‘Ğ¾Ñ‚</span>
                            <span style="color: var(--success); font-weight: 600;">$450</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>ğŸ¤– Ğ’Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚</span>
                            <span style="color: var(--success); font-weight: 600;">$200</span>
                        </div>
                    </div>
                    <div style="background: var(--gold); color: #92400e; padding: 15px; border-radius: 12px; text-align: center; margin-top: 15px;">
                        <div style="font-size: 24px; font-weight: 700;">Ğ¦Ğ•ĞĞĞĞ¡Ğ¢Ğ¬: $1,700</div>
                        <div>Ğ¢Ğ²Ğ¾Ñ Ñ†ĞµĞ½Ğ°: Ğ²ÑĞµĞ³Ğ¾ $22</div>
                    </div>
                </div>
                
                <div class="guarantee-box">
                    <h4>ğŸ›¡ï¸ Ğ“ĞĞ ĞĞĞ¢Ğ˜Ğ¯ ĞĞšĞĞ”Ğ•ĞœĞ˜Ğ˜</h4>
                    <p>Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸ Ğ’Ğ¡Ğ• Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ Ğ·Ğ° 21 Ğ´ĞµĞ½ÑŒ â†’ Ğ—Ğ°Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¹ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ $1,000!</p>
                    <p style="margin-top: 10px; font-size: 14px; opacity: 0.9;">
                        ĞĞµ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ»Ğ¾ÑÑŒ? Ğ’ĞµÑ€Ğ½Ñ‘Ğ¼ $22. Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ½Ğ° $1,700 Ğ¾ÑÑ‚Ğ°Ğ½ÑƒÑ‚ÑÑ ĞĞĞ’Ğ¡Ğ•Ğ“Ğ”Ğ!
                    </p>
                </div>
            </div>
        </section>
        
        <!-- PROGRESS -->
        <section class="progress-section">
            <div class="progress-header">
                <span class="progress-title">ğŸ“Š ĞĞ±Ñ‰Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ</span>
                <span class="progress-percent" id="progressPercent">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>
            
            <div class="weeks-tabs">
                <div class="week-tab active" data-week="1">
                    <h4>ĞĞµĞ´ĞµĞ»Ñ 1</h4>
                    <p>Ğ¤ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚ â€¢ $120</p>
                </div>
                <div class="week-tab" data-week="2">
                    <h4>ĞĞµĞ´ĞµĞ»Ñ 2</h4>
                    <p>ĞŸÑ€Ğ¾Ğ´Ğ°Ğ¶Ğ¸ â€¢ $330</p>
                </div>
                <div class="week-tab" data-week="3">
                    <h4>ĞĞµĞ´ĞµĞ»Ñ 3</h4>
                    <p>ĞœĞ°ÑÑˆÑ‚Ğ°Ğ± â€¢ $1000+</p>
                </div>
            </div>
        </section>
        
        <!-- LAYOUT -->
        <div class="layout">
            <!-- WEEKS CONTENT -->
            <div class="weeks-container">
                <!-- WEEK 1 -->
                <div class="week-content active" data-week="1">
                    <div class="week-header">
                        <h2>ğŸ“š ĞĞµĞ´ĞµĞ»Ñ 1: Ğ¤ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚</h2>
                        <p>ĞÑĞ²Ğ°Ğ¸Ğ²Ğ°ĞµĞ¼ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ¸ Ğ´ĞµĞ»Ğ°ĞµĞ¼ Ğ¿ĞµÑ€Ğ²Ñ‹Ğµ ĞºĞ°ÑĞ°Ğ½Ğ¸Ñ</p>
                        <div class="week-goals">
                            <span class="week-goal">ğŸ¯ 35 ĞºĞ°ÑĞ°Ğ½Ğ¸Ğ¹</span>
                            <span class="week-goal">ğŸ“ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ±Ğ»Ğ¾Ğ³</span>
                            <span class="week-goal">ğŸ Ğ¡Ğ²Ğ¾Ñ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ĞºĞ°</span>
                            <span class="week-goal">ğŸ’° Ğ—Ğ°Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾Ğº ~$120</span>
                        </div>
                    </div>
                    
                    <div class="days-grid" id="week1Days">
                        <!-- Days will be inserted by JS -->
                    </div>
                </div>
                
                <!-- WEEK 2 -->
                <div class="week-content" data-week="2">
                    <div class="week-header" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                        <h2>ğŸ’¬ ĞĞµĞ´ĞµĞ»Ñ 2: ĞŸÑ€Ğ¾Ğ´Ğ°Ğ¶Ğ¸</h2>
                        <p>Ğ£Ñ‡Ğ¸Ğ¼ÑÑ Ğ¾Ğ±Ñ‰Ğ°Ñ‚ÑŒÑÑ Ğ¸ Ğ·Ğ°ĞºÑ€Ñ‹Ğ²Ğ°Ñ‚ÑŒ ÑĞ´ĞµĞ»ĞºĞ¸</p>
                        <div class="week-goals">
                            <span class="week-goal">ğŸ¯ Ğ•Ñ‰Ñ‘ 35 ĞºĞ°ÑĞ°Ğ½Ğ¸Ğ¹</span>
                            <span class="week-goal">ğŸ’¬ Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶</span>
                            <span class="week-goal">ğŸ›¡ï¸ Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ²Ğ¾Ğ·Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸ÑĞ¼Ğ¸</span>
                            <span class="week-goal">ğŸ’° Ğ—Ğ°Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾Ğº ~$330</span>
                        </div>
                    </div>
                    
                    <div class="days-grid" id="week2Days">
                        <!-- Days will be inserted by JS -->
                    </div>
                </div>
                
                <!-- WEEK 3 -->
                <div class="week-content" data-week="3">
                    <div class="week-header" style="background: linear-gradient(135deg, #10b981, #059669);">
                        <h2>ğŸš€ ĞĞµĞ´ĞµĞ»Ñ 3: ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±</h2>
                        <p>Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ğ¼ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ Ğ¸ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ³Ğ°ĞµĞ¼ $1000+</p>
                        <div class="week-goals">
                            <span class="week-goal">ğŸ¯ Ğ•Ñ‰Ñ‘ 35 ĞºĞ°ÑĞ°Ğ½Ğ¸Ğ¹</span>
                            <span class="week-goal">ğŸ‘¥ ĞĞ±ÑƒÑ‡Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ</span>
                            <span class="week-goal">ğŸ“ˆ ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ</span>
                            <span class="week-goal">ğŸ’° Ğ˜Ğ¢ĞĞ“Ğ $1000+</span>
                        </div>
                    </div>
                    
                    <div class="days-grid" id="week3Days">
                        <!-- Days will be inserted by JS -->
                    </div>
                </div>
            </div>
            
            <!-- SIDEBAR -->
            <aside class="sidebar">
                <div class="leaderboard">
                    <h3>ğŸ† Ğ›Ğ¸Ğ´ĞµÑ€Ğ±Ğ¾Ñ€Ğ´</h3>
                    <div id="leaderboardList">
                        <div class="leader-item">
                            <div class="leader-rank">1</div>
                            <div class="leader-info">
                                <div class="leader-name">Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...</div>
                                <div class="leader-stats">Ğ”ĞµĞ½ÑŒ 1 â€¢ 0 Ğ¾Ñ‡ĞºĞ¾Ğ²</div>
                            </div>
                            <div class="leader-points">â€”</div>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </main>
    
    <!-- DAY MODAL -->
    <div class="modal-overlay" id="dayModal">
        <div class="modal">
            <div class="modal-header">
                <button class="modal-close" onclick="closeModal()">Ã—</button>
                <h2 id="modalTitle">Ğ”ĞµĞ½ÑŒ 1</h2>
                <p id="modalSubtitle">Ğ—Ğ½Ğ°ĞºĞ¾Ğ¼ÑÑ‚Ğ²Ğ¾ Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¾Ğ¹</p>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Content will be inserted by JS -->
            </div>
        </div>
    </div>
    
    <!-- SCRIPTS -->
    <script src="js/lessons-data.js"></script>
    <script>
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // PROGRAM PAGE v3.0
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        // State
        let state = {
            currentDay: 1,
            totalPoints: 0,
            streakDays: 0,
            completedDays: [],
            completedTasks: []
        };
        
        // Load from localStorage
        function loadState() {
            const saved = localStorage.getItem('program_progress');
            if (saved) {
                state = { ...state, ...JSON.parse(saved) };
            }
            updateUI();
        }
        
        // Save to localStorage
        function saveState() {
            localStorage.setItem('program_progress', JSON.stringify(state));
        }
        
        // Update UI
        function updateUI() {
            document.getElementById('currentDay').textContent = state.currentDay;
            document.getElementById('totalPoints').textContent = state.totalPoints;
            document.getElementById('streakDays').textContent = state.streakDays;
            document.getElementById('achievements').textContent = `${countAchievements()}/14`;
            
            const progress = Math.round((state.completedDays.length / 21) * 100);
            document.getElementById('progressPercent').textContent = progress + '%';
            document.getElementById('progressFill').style.width = progress + '%';
        }
        
        // Count achievements
        function countAchievements() {
            let count = 0;
            if (state.totalPoints > 0) count++;
            if (state.completedDays.includes(1)) count++;
            if (state.completedDays.includes(7)) count++;
            if (state.completedDays.includes(14)) count++;
            if (state.completedDays.includes(21)) count++;
            if (state.completedTasks.length >= 10) count++;
            if (state.streakDays >= 7) count++;
            return count;
        }
        
        // Get day data from LessonsData
        function getDayData(dayNum) {
            if (typeof LessonsDataV2 === 'undefined') return null;
            
            // Try JSON structure first
            if (LessonsDataV2.days) {
                return LessonsDataV2.days.find(d => d.day === dayNum);
            }
            
            // Try week structure
            const week = Math.ceil(dayNum / 7);
            if (week === 1 && LessonsDataV2.week1?.days?.[dayNum]) {
                return LessonsDataV2.week1.days[dayNum];
            } else if (week === 2 && LessonsDataV2.week2?.days?.[dayNum]) {
                return LessonsDataV2.week2.days[dayNum];
            } else if (week === 3 && LessonsDataV2.week3?.days?.[dayNum]) {
                return LessonsDataV2.week3.days[dayNum];
            }
            
            return null;
        }
        
        // Render days
        function renderDays() {
            for (let week = 1; week <= 3; week++) {
                const container = document.getElementById(`week${week}Days`);
                if (!container) continue;
                
                container.innerHTML = '';
                
                const startDay = (week - 1) * 7 + 1;
                const endDay = week * 7;
                
                for (let day = startDay; day <= endDay; day++) {
                    const dayData = getDayData(day);
                    const isCompleted = state.completedDays.includes(day);
                    const isCurrent = day === state.currentDay;
                    const isLocked = day > state.currentDay + 1;
                    const isKeyDay = [7, 14, 18, 21].includes(day);
                    
                    let statusClass = '';
                    let statusText = '';
                    
                    if (isCompleted) {
                        statusClass = 'completed';
                        statusText = 'âœ“ Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¾';
                    } else if (isCurrent) {
                        statusClass = 'current';
                        statusText = 'â–¶ Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹';
                    } else if (isLocked) {
                        statusClass = 'locked';
                        statusText = 'ğŸ”’ Ğ—Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½';
                    }
                    
                    const card = document.createElement('div');
                    card.className = `day-card ${statusClass} ${isKeyDay ? 'key-day' : ''}`;
                    card.onclick = () => !isLocked && openDayModal(day);
                    
                    // Get greeting or fallback
                    const greeting = dayData?.greeting || dayData?.morning?.greeting || '';
                    const shortGreeting = greeting.split('\n').slice(0, 2).join(' ').substring(0, 100) + '...';
                    
                    // Get tasks
                    const tasks = dayData?.tasks || [];
                    const totalPoints = tasks.reduce((sum, t) => sum + (t.points || 0), 0);
                    
                    card.innerHTML = `
                        <div class="day-card-header">
                            <div class="day-number">${day}</div>
                            <div>
                                ${isKeyDay ? '<span class="upgrade-badge">âš¡ Ğ’ĞĞ–ĞĞ«Ğ™</span>' : ''}
                                <span class="day-status ${statusClass}">${statusText}</span>
                            </div>
                        </div>
                        <div class="day-card-body">
                            <h3 class="day-title">${dayData?.icon || 'ğŸ“…'} ${dayData?.title || `Ğ”ĞµĞ½ÑŒ ${day}`}</h3>
                            <p class="day-description">${shortGreeting || 'Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...'}</p>
                            <div class="day-tasks-preview">
                                ${tasks.slice(0, 3).map(t => `<span class="task-tag">${t.icon || 'ğŸ“'} ${t.title?.substring(0, 20) || 'Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ'}...</span>`).join('')}
                            </div>
                        </div>
                        <div class="day-footer">
                            <div class="day-meta">
                                <span>â±ï¸ ${dayData?.duration || '45-60 Ğ¼Ğ¸Ğ½'}</span>
                                <span>ğŸ“ ${tasks.length} Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ğ¹</span>
                            </div>
                            <span class="day-points">+${totalPoints}</span>
                        </div>
                    `;
                    
                    container.appendChild(card);
                }
            }
        }
        
        // Open day modal
        function openDayModal(dayNum) {
            const dayData = getDayData(dayNum);
            if (!dayData) return;
            
            document.getElementById('modalTitle').textContent = `Ğ”ĞµĞ½ÑŒ ${dayNum}`;
            document.getElementById('modalSubtitle').textContent = dayData.title || '';
            
            const body = document.getElementById('modalBody');
            const greeting = dayData.greeting || dayData.morning?.greeting || '';
            const theory = dayData.theory;
            const tasks = dayData.tasks || [];
            const isKeyDay = [7, 14, 18].includes(dayNum);
            const upgradeOffer = dayData.upgradeOffer;
            
            let html = `
                <div class="modal-section">
                    <h4>ğŸŒ… ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğµ</h4>
                    <p style="white-space: pre-line;">${greeting}</p>
                </div>
            `;
            
            if (theory) {
                html += `
                    <div class="modal-section">
                        <h4>ğŸ“– ${theory.title || 'Ğ¢ĞµĞ¾Ñ€Ğ¸Ñ Ğ´Ğ½Ñ'}</h4>
                        <p style="white-space: pre-line;">${theory.content || ''}</p>
                    </div>
                `;
            }
            
            if (upgradeOffer) {
                html += `
                    <div class="modal-section" style="background: linear-gradient(135deg, #fef3c7, #fde68a); padding: 20px; border-radius: 12px; border: 2px solid var(--gold);">
                        <h4 style="color: #92400e;">${upgradeOffer.title}</h4>
                        <p><strong>Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ:</strong> ${upgradeOffer.cost}</p>
                        <p><strong>Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ğ´Ğ¾Ñ…Ğ¾Ğ´:</strong> ${upgradeOffer.currentIncome}</p>
                        <p><strong>ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ´Ğ¾Ñ…Ğ¾Ğ´:</strong> ${upgradeOffer.newIncome}</p>
                        <div class="income-highlight">
                            <div class="amount">${upgradeOffer.benefit}</div>
                        </div>
                    </div>
                `;
            }
            
            html += `
                <div class="modal-section">
                    <h4>ğŸ“‹ Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ Ğ´Ğ½Ñ</h4>
                    <div class="task-list">
                        ${tasks.map(task => {
                            const isCompleted = state.completedTasks.includes(task.id);
                            return `
                                <div class="task-item ${isCompleted ? 'completed' : ''}" onclick="toggleTask('${task.id}', ${dayNum})">
                                    <div class="task-checkbox">${isCompleted ? 'âœ“' : ''}</div>
                                    <div class="task-content">
                                        <div class="task-title">${task.icon || 'ğŸ“'} ${task.title}</div>
                                        <div class="task-desc">${task.description || ''}</div>
                                    </div>
                                    <div class="task-points">+${task.points || 25}</div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
            `;
            
            // Evening reflection
            const evening = dayData.eveningReflection || dayData.evening?.reflection || '';
            if (evening) {
                html += `
                    <div class="modal-section">
                        <h4>ğŸŒ™ Ğ˜Ñ‚Ğ¾Ğ³Ğ¸ Ğ´Ğ½Ñ</h4>
                        <p style="white-space: pre-line;">${evening}</p>
                    </div>
                `;
            }
            
            body.innerHTML = html;
            document.getElementById('dayModal').classList.add('active');
        }
        
        // Close modal
        function closeModal() {
            document.getElementById('dayModal').classList.remove('active');
        }
        
        // Toggle task
        function toggleTask(taskId, dayNum) {
            const dayData = getDayData(dayNum);
            const task = dayData?.tasks?.find(t => t.id === taskId);
            if (!task) return;
            
            const idx = state.completedTasks.indexOf(taskId);
            if (idx > -1) {
                state.completedTasks.splice(idx, 1);
                state.totalPoints -= (task.points || 25);
            } else {
                state.completedTasks.push(taskId);
                state.totalPoints += (task.points || 25);
                
                // Check if day completed
                const allTasks = dayData.tasks || [];
                const completedCount = allTasks.filter(t => state.completedTasks.includes(t.id)).length;
                
                if (completedCount === allTasks.length && !state.completedDays.includes(dayNum)) {
                    state.completedDays.push(dayNum);
                    state.currentDay = Math.min(dayNum + 1, 21);
                    state.streakDays++;
                }
            }
            
            saveState();
            updateUI();
            renderDays();
            openDayModal(dayNum); // Refresh modal
        }
        
        // Week tabs
        document.querySelectorAll('.week-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.week-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.week-content').forEach(c => c.classList.remove('active'));
                
                tab.classList.add('active');
                const week = tab.dataset.week;
                document.querySelector(`.week-content[data-week="${week}"]`).classList.add('active');
            });
        });
        
        // Close modal on overlay click
        document.getElementById('dayModal').addEventListener('click', (e) => {
            if (e.target.id === 'dayModal') closeModal();
        });
        
        // Init
        document.addEventListener('DOMContentLoaded', () => {
            loadState();
            renderDays();
            
            // Render leaderboard (demo)
            const leaderboard = document.getElementById('leaderboardList');
            leaderboard.innerHTML = `
                <div class="leader-item">
                    <div class="leader-rank">1</div>
                    <div class="leader-info">
                        <div class="leader-name">ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€ ĞŸ.</div>
                        <div class="leader-stats">Ğ”ĞµĞ½ÑŒ 21 â€¢ 4250 Ğ¾Ñ‡ĞºĞ¾Ğ²</div>
                    </div>
                    <div class="leader-points">$1,200</div>
                </div>
                <div class="leader-item">
                    <div class="leader-rank">2</div>
                    <div class="leader-info">
                        <div class="leader-name">ĞœĞ°Ñ€Ğ¸Ñ Ğš.</div>
                        <div class="leader-stats">Ğ”ĞµĞ½ÑŒ 18 â€¢ 3800 Ğ¾Ñ‡ĞºĞ¾Ğ²</div>
                    </div>
                    <div class="leader-points">$950</div>
                </div>
                <div class="leader-item">
                    <div class="leader-rank">3</div>
                    <div class="leader-info">
                        <div class="leader-name">Ğ’Ñ‹</div>
                        <div class="leader-stats">Ğ”ĞµĞ½ÑŒ ${state.currentDay} â€¢ ${state.totalPoints} Ğ¾Ñ‡ĞºĞ¾Ğ²</div>
                    </div>
                    <div class="leader-points">â€”</div>
                </div>
            `;
        });
    </script>
</body>
</html>
